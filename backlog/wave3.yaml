wave: 3
purpose: >-
  Deliver a repeatable Wave 3 launch process that can be re-run from a single YAML
  specification while keeping artifacts deterministic for Phoenix (America/Phoenix, no DST).
constraints:
  - Phoenix timezone (America/Phoenix, no DST) is authoritative for scheduling, timestamps, and archival suffixes.
  - Preserve least-privilege IAM and avoid leaking secrets in generated outputs or logs.
  - Make every artifact idempotent: re-running the generator on the same YAML must yield identical files.
quality_bar:
  - Ruff and Black must pass with no diffs.
  - mypy succeeds with the repository type hints.
  - pytest runs locally with coverage ≥ 70% on touched modules (no live network).
sequenced_prs:
  - title: "Wave 3 – YAML-driven generator rollout"
    acceptance:
      - Generate the MOP, sub-prompts, issue bodies, and manifest from this spec.
      - Archive the previous wave MOP exactly once per day when present.
      - Provide a Make/CI/pre-commit guard that detects drift.
    notes:
      - Ensure all generated docs call out America/Phoenix (no DST).
      - Reference Decision/Note/Action markers wherever contributors edit outputs.
    labels:
      - wave:wave3
      - automation
      - promptops
  - title: "Wave 3 – onboarding and validation"
    acceptance:
      - Document the generator workflow for contributors in README.md.
      - Update CHANGELOG and PR template markers for Decision/Note/Action.
      - Add pytest coverage for archiving, manifests, and idempotency.
    notes:
      - Tests must not hit GitHub APIs; rely on offline fixtures.
    labels:
      - wave:wave3
      - documentation
      - testing
